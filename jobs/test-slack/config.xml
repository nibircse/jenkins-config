<?xml version='1.0' encoding='UTF-8'?>
<flow-definition plugin="workflow-job@2.8">
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
      <triggers/>
    </org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
  </properties>
  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.21">
    <script>node(){
//Job DSL script
import jenkins.model.Jenkins

String slackCredentialsId = &apos;slack-test-bots&apos;
def jenkins_creds = Jenkins.instance.getExtensionList(&apos;com.cloudbees.plugins.credentials.SystemCredentialsProvider&apos;)[0]

String found_slack_token = jenkins_creds.getStore().getDomains().findResult { domain -&gt;
  jenkins_creds.getCredentials(domain).findResult { credential -&gt;
    if(slackCredentialsId.equals(credential.id)) {
      credential.getSecret()
    }
  }
}

println &quot;Slack token credentials: ${found_slack_token}&quot;
    
}</script>
    <sandbox>true</sandbox>
  </definition>
  <triggers/>
</flow-definition>